<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Test by jcauto</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Test</h1>
      <h2 class="project-tagline">test</h2>
      <a href="https://github.com/jcauto/test" class="btn">View on GitHub</a>
      <a href="https://github.com/jcauto/test/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/jcauto/test/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p>// ==/UserScript==</p>

<p>function GameReady ( callback ) {
    var screenLoading = document.querySelector('#screen-loading');</p>

<pre><code>(function checkReady () {
    if ( screenLoading.classList.contains( 'hidden' ) ) {
        callback( unsafeWindow.define, unsafeWindow.require );
    } else {
        setTimeout( checkReady, 50 );
    }
})();
</code></pre>

<p>}</p>

<p>GameReady(function ( define, require ) {</p>

<p>function makeVillageLink(a){return"getX"in a?"'+a.getName()+" ("+a.getX()+"|"+a.getY()+") ":"'+a.name+" ("+a.coords[0]+"|"+a.coords[1]+") "}var modelDataService=injector.get("modelDataService");define("framework/game",function(){var a={};return a.<strong>defineGetter</strong>("data",function(){return modelDataService.getGameData()}),a.<strong>defineGetter</strong>("units",function(){return a.data.getUnitsObject()}),a.<strong>defineGetter</strong>("unitsArray",function(){return a.data.getUnits()}),a.<strong>defineGetter</strong>("buildings",function(){return a.data.getBuildings()}),a.<strong>defineGetter</strong>("configs",function(){return modelDataService.getWorldConfig()}),a}),define("framework/player",function(){var a={};return a.<strong>defineGetter</strong>("groups",function(){return modelDataService.getPlayer().getGroupList()}),a.<strong>defineGetter</strong>("data",function(){return modelDataService.getPlayer().getSelectedCharacter()}),a.<strong>defineGetter</strong>("presets",function(){return modelDataService.getPlayer().getPresetList()}),a.<strong>defineGetter</strong>("currentVillage",function(){return modelDataService.getPlayer().getSelectedCharacter().getSelectedVillage()}),a.<strong>defineGetter</strong>("villages",function(){return modelDataService.getPlayer().getSelectedCharacter().data.villages}),a}),define("framework/server",["framework/util"],function(a){function b(b,c,d,f){"function"===a.type(d)&amp;&amp;(f=d,d=b),d=d||b,g[b]||(g[b]=[],e.on("msg",h[b]=function(a){a.type===d&amp;&amp;(g[b].shift().call(c,a.data),g[b].length||(e.removeListener("msg",h[b]),g[b]=null))})),g[b].push(f||function(){}),e.emit("msg",{type:b,data:c})}function c(a,b,c){return a in f?!1:(e.on("msg",f[a]=function(a){b===a.type&amp;&amp;c(a.data)}),!0)}function d(a){return a in f?(e.socket.removeListener("msg",f[a]),delete f[a],!0):!1}var e=io.connect("/"),f={},g={},h={};return{send:b,register:c,unregister:d}}),define("framework/village",["framework/villages","framework/server","framework/player","framework/util"],function(a,b,c,d){function e(a,d){"function"==typeof a&amp;&amp;(d=a,a=c.currentVillage.getId()),b.send("Village/getUnitInfo",{village_id:a},"Village/unitInfo",function(a){d(a)})}function f(a,d){"function"==typeof a&amp;&amp;(d=a,a=c.currentVillage.getId()),b.send("Command/getOwnCommands",{village_id:a},"Command/ownCommands",function(a){d(a.commands||[])})}function g(a,d){"function"==typeof a&amp;&amp;(d=a,a=c.currentVillage.getId()),b.send("Scouting/getInfo",{village_id:a},"Scouting/info",function(a){d(a)})}function h(e,f,g,j){return"object"===d.type(f)&amp;&amp;(j=g,g=f,e=c.currentVillage.getId()),i.test(e)?(e=e.split("|"),a.byCoords(e[0],e[1],function(a){h(a.id,f,g,j)})):i.test(f)?(f=f.split("|"),a.byCoords(f[0],f[1],function(a){h(e,a.id,g,j)})):void b.send("Command/sendCustomArmy",{start_village:e,target_village:f,type:g.type||"attack",units:g.units,catapult_target:g.catapult||"",officers:g.officers||{},icon:0},"Command/sent",j)}var i=/\d{1,3}|\d{1,3}/;return{units:e,commands:f,scouting:g,command:h}}),define("framework/villages",["framework/server"],function(a){function b(b,c,e,f){var g=d[b+"|"+c],h=b-b%25-(f?25:0),i=c-c%25-(f?25:0);g?e(g):a.send("Map/getVillagesByArea",{x:h,y:i,width:f?50:25,height:f?50:25},"Map/villageData",function(){e(d[b+"|"+c])})}function c(){return d}var d={};return a.register("mapVillages","Map/villageData",function(a){var b,c;for(c=0;c0&amp;&amp;b-1 in a}function g(a,b,c){var d=0,e=f(a);if(e)for(;d-1?(b=c.name,!1):void 0}),b}function j(a,b,c){var d=(require("framework/server"),require("framework/villages")),f='<a href="#"><strong>CONTENT</strong></a>';switch(b){case"village":"array"===e(a)&amp;&amp;d.byCoords(a[0],a[1],function(a){var d=k(f.replace("<strong>TYPE</strong>",b).replace("<strong>CONTENT</strong>",a.name+" ("+a.x+"|"+a.y+")")).bind("click",function(){injector.get("mapService").jumpToVillage(a.x,a.y)});c(d)})}}function k(a,b){return new l(a,b)}function l(a,b){if(this.elems=[],!a)return this;if("string"==typeof a)a=a.trim(),"&lt;"===a.charAt(0)&amp;&amp;"&gt;"===a.charAt(a.length-1)?this.elems=l.buildFragment(a).childNodes:b?"string"==typeof b?(this.elems=Sizzle(b),this.find(a)):b.constructor&amp;&amp;b.constructor===l&amp;&amp;(this.elems=b.find(a).elems):this.elems=Sizzle(a);else if(a.nodeType)this.elems.push(a);else if(a.constructor&amp;&amp;a.constructor===l)this.elems=a.elems;else{var c=e(a),d=[];"array"===c?this.elems=a:/html/.test()&amp;&amp;(g(a,function(){d.push(this)}),this.elems=d)}return this.elems=l.makeArray(this.elems),this}var m={check:"icon-44x44-check",error:"icon-44x44-error",attention:"icon-44x44-attention",settings:"icon-44x44-settings-account",tribe:"icon-44x44-tribe"};return l.buildFragment=function(a){var b=document.createElement("template");return b.innerHTML=a,b.content},l.makeArray=function(a){return[].slice.call(a)},l.prototype.bind=function(a,b){return this.each(function(){this.addEventListener(a,b,!1)})},l.prototype.each=function(a){return g(this.elems,a),this},l.prototype.domManip=function(a,b){var c=this;return a?("string"==typeof a?a=l.buildFragment(a).childNodes:a.constructor===l?a=a.elems:f(a)||(a=k(a).elems),g(a,function(){b.call(c,this)}),this):this},l.prototype.append=function(a){return this.domManip(a,function(a){this.each(function(){this.appendChild(a)})})},l.prototype.appendTo=function(a){return a=k(a),this.each(function(){a.append(this)})},l.prototype.prepend=function(a){return this.domManip(a,function(a){this.each(function(){this.insertBefore(a,this.firstChild)})})},l.prototype.after=function(a){return this.domManip(a,function(a){this.each(function(){this.parentNode&amp;&amp;this.parentNode.insertBefore(a,this.nextSibling)})})},l.prototype.before=function(a){return this.domManip(a,function(a){this.each(function(){this.parentNode&amp;&amp;this.parentNode.insertBefore(a,this)})})},l.prototype.css=function(a,b){return this.each(function(c){void 0!==b?this.style[a]=b:g(a,function(a,b){c.style[a]=b})})},l.prototype.remove=function(){return this.each(function(){this.parentNode.removeChild(this)}),this.elems=[],this},l.prototype.find=function(a){var b=[];return this.each(function(){b=b.concat(Sizzle(a,this))}),k(b)},l.prototype.hide=function(){return this.each(function(){this.style.display="none"})},l.prototype.show=function(){return this.each(function(){this.style.display=""})},l.prototype.html=function(a){return this.each(function(){this.innerHTML=a})},l.prototype.addClass=function(a){return this.each(function(){this.classList.add(a)})},l.prototype.removeClass=function(a){return this.each(function(){this.classList.remove(a)})},{notif:a,distancexy:b,prefix:c,now:d,type:e,each:g,css:h,linkButton:j,dom:k,unitFrom:i}}),define("framework/ui/modal",["framework/ui/templates","framework/util"],function(a,b){return function(c){var d,e,f=[];return(d=document.getElementById(c.id))?b.dom(d):(d=b.dom(a.proccess("modal",{title:c.title,width:c.width||650,buttons:f.join(""),id:c.id})),d.find(".framework-ui-modal-close").bind("click",function(){d.hide()}),c.buttons&amp;&amp;c.buttons.length&amp;&amp;b.each(c.buttons,function(a,f){e=b.dom(""),b.dom('<a id="button-'+c.id+">'+a.title+"</a>").bind("click",this.click).appendTo(e),e.appendTo(d.find(".framework-ui-modal-buttons"))}),d.find(".framework-ui-modal-content").append(c.content),d.applyScroll=function(){jsScrollbar(d.find(".win-main").elems[0])},d.appendTo("body"))}}),define("framework/ui/icon",["framework/ui/templates","framework/util"],function(a,b){var c={};return function(d){if(d.id in c)return c[d.id];var e=b.dom(a.proccess("icon",{content:d.id,color:d.color||"red"})).css({height:(d.size||26)+"px",marginLeft:"22px",marginBottom:"10px",position:"relative"}).bind("click",d.click).appendTo("#interface-chat");return c[d.id]=e,e}}),define("framework/ui/interface",["framework/ui/templates","framework/ui/interface/input","framework/ui/icon","framework/ui/modal","framework/util"],function(a,b,c,d,e){function f(a){for(var b,c,d=[],e=a.length-1;e&gt;=0;e--)b=a[e].split("="),c=b[1],b=b[0],d.push(b+(c?'="'+c+'"':""));return d.join(" ")}var g={};return function(h){if(h.id in g)return g[h.id];var i,j,k=e.dom(a.setting.replace("{id}","framework-ui-interface-"+h.id).replace("{header}",h.header));for(i in h.pluginSettings)h.formats[i]&amp;&amp;(j=h.formats[i],j="string"==typeof j?[j]:[j.shift(),f(j)],b[j[0]]&amp;&amp;(j=b<a href="h,i,h.pluginSettings%5Bi%5D,j%5B1%5D">j[0]</a>,k.find(".framework-ui-setting-content").append(j)));g[h.id]=k;var l=d({id:h.id,title:h.title,content:k,buttons:h.buttons});return c({id:h.id,color:h.iconColor,click:function(){l.show(),l.applyScroll()}}),l}}),define("framework/ui/interface/input",["framework/util","framework/ui/templates"],function(a,b){function c(c){return function(d,e,f){var g,h="";return a.each(c,function(a){h+=b.proccess("interface/format/units/unit",{unit:a,amount:f[a]||0})}),g=a.dom(b.proccess("interface/format/units",{name:d.i18n[e],html:h})),g.find(".input-border").css({height:"35px",width:"70px",fontSize:"15px",verticalAlign:"top",marginLeft:"3px"}),g}}var d={};return d.addFormat=function(a,b){d[a]=b},d.addFormat("text",function(a,c,d,e){return Array.isArray(d)&amp;&amp;(d=d.join(" ")),b.proccess("interface/format/text",{name:a.i18n[c],item:c,value:d,attrs:e})}),d.addFormat("select",function(a,c,d){return b.proccess("interface/format/select",{name:a.i18n[c],item:c,value:d?" checked ":" "})}),d.addFormat("units-farm",c(["spear","sword","axe","archer","light_cavalry","mounted_archer","heavy_cavalry","doppelsoldner","knight"])),d.addFormat("units",c(["spear","sword","axe","archer","light_cavalry","mounted_archer","heavy_cavalry","ram","catapult","doppelsoldner","trebuchet","snob","knight"])),d.addFormat("units-recruit",c(["spear","sword","axe","archer","light_cavalry","mounted_archer","heavy_cavalry","ram","catapult","doppelsoldner","trebuchet"])),d}),define("framework/ui/interface/extractor",function(){return function(a){var b,c,d,e,f=document.getElementById("framework-ui-interface-"+a),g={};return Sizzle("[settingInterfaceGroup]",f).forEach(function(a){e=a.getAttribute("settingInterfaceItem"),b=a.getAttribute("settingInterfaceGroup").split("-"),c=b[0],d=b[1],d?(g[c]=g[c]||[],"undefined"==typeof g[c][d]&amp;&amp;g[c].push({}),g[c][d][e]=a.value):(g[c]=g[c]||{},g[c][e]=a.value)}),Sizzle("[settingInterfaceItem]",f).forEach(function(a){a.getAttribute("settingInterfaceGroup")||(g[a.getAttribute("settingInterfaceItem")]="checkbox"===a.type?a.checked:a.value)}),g}}),define("framework/ui/templates",function(){var a={},b=/{(\w+)}/g;return a.setTemplate=function(b,c){a[b]=c},a.proccess=function(c,d,e){e=e||{};var f="function"==typeof d?d:function(a,b){return void 0!==e[b]?e[b]:void 0!==d[b]?d[b]:b};return a[c].replace(b,f)},a.setTemplate("modal",'</p><div id="framework-ui-modal-{id}"><div><div><div>
<div> <h3>
<a id="title" class="anchor" href="#title" aria-hidden="true"><span class="octicon octicon-link"></span></a>{title}</h3>
<ul><li><a href="#"></a></li></ul> <div><div><div></div></div></div> <ul>{buttons}</ul> </div>
<div></div>
</div></div></div></div>'),a.setTemplate("setting",'<table>
<thead><tr><th colspan="2">{header}</th></tr></thead>
<tbody></tbody>
</table>'),a.setTemplate("icon",'<div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div>{content}</div>
</div>'),a.setTemplate("interface/format/units",'<table>
<thead><tr><th colspan="2">{name}</th></tr></thead>
<tbody>{html}</tbody>
<tbody></tbody>
</table>'),a.setTemplate("interface/format/units/unit",''),a.setTemplate("interface/format/text",'{name}'),a.setTemplate("interface/format/select",'{name}'),a}),define("framework/getVillages",["framework/server","framework/villageSwitch"],function(a,b){function c(b,c){c=d(c),a.send("Overview/getVillages",{count:1e3,offset:0,sorting:"",reverse:0,groups:c},"Overview/villages",function(a){b(a.villages)})}function d(a){if("number"==typeof a)return[a];if(!a)return[];var b,c,d,e=modelDataService.getGroupList().data.groups,f=[];for(c=0;c":g=b.points&gt;e;break;case"&lt;":g=b.points":g=b.scouts&gt;e;break;case"&lt;":g=b.scouts=this.villages.length-1?(this.index=0,this.completeCicle()):this.index++,this},a.prototype.each=function(a){for(var b=0;b<table>
<thead><tr><th colspan="2">{name}</th></tr></thead>
<tbody>{html}</tbody>
<tbody></tbody>
</table>'),$templates.setTemplate("autofarm/format/unitModels/unit",'<div></div>'),$templates.setTemplate("autofarm/format/unitModels/unitTr",'{units}'),$templates.setTemplate("autofarm/format/unitModels",'<table>
<thead><tr><th colspan="2">{name}</th></tr></thead>
<tbody>{html}</tbody>
</table>'),$templates.setTemplate("autofarm/log",'<table><tbody></tbody></table>'),AutoFarm.callbacks.noTargets=function(){__debug&amp;&amp;console.log("callback : noTargets")},AutoFarm.callbacks.nextVillage=function(){__debug&amp;&amp;console.log("callback : nextVillage")},AutoFarm.callbacks.villageNoUnits=function(){__debug&amp;&amp;console.log("callback : villageNoUnits")},AutoFarm.callbacks.allVillageNoUnits=function(){__debug&amp;&amp;console.log("callback : allVillageNoUnits")},AutoFarm.callbacks.noUnitsNoCommands=function(){__debug&amp;&amp;console.log("callback : noUnitsNoCommands")},AutoFarm.callbacks.nextTarget=function(){__debug&amp;&amp;console.log("callback : nextTarget")},AutoFarm.callbacks.commandLimit=function(){__debug&amp;&amp;console.log("callback : nextTarget")},AutoFarm.callbacks.sendCommand=function(){__debug&amp;&amp;console.log("callback : sendCommand")},AutoFarm.prepareSystem=function(a,b){return __debug&amp;&amp;console.warn("method : prepareSystem"),b=b||0,-1!==AutoFarm.settings.ignoreVillages.indexOf(AutoFarm.selectedVillage.getX()+"|"+AutoFarm.selectedVillage.getY())?(AutoFarm.nextVillage(),void AutoFarm.prepareSystem(a,b)):AutoFarm.updateTargets(function(){if(AutoFarm.targetList[AutoFarm.selectedVillage.getId()].length)a&amp;&amp;a();else{if(b===AutoFarm.player.villages.length)return AutoFarm.callbacks.noTargets();AutoFarm.nextVillage(),AutoFarm.prepareSystem(a,++b)}})},AutoFarm.updateTargets=function(a){__debug&amp;&amp;console.warn("method : updateTargets");var b=AutoFarm.selectedVillage.getX(),c=AutoFarm.selectedVillage.getY(),d=AutoFarm.selectedVillage.getId();return d in AutoFarm.targetList?a():void $villages.byCoords(b,c,function(){var e,f,g,h,i=b+"|"+c,j=$villages.loaded(),k=[];for(g in j)i===g||j[g].character_id||(f=j[g].name,h=j[g].id,g=g.split("|"),e=$util.distancexy(b,g[0],c,g[1]),e&lt;=AutoFarm.settings.radius&amp;&amp;k.push({coords:g,distance:e,id:h,name:f}));return k.length?(AutoFarm.targetList[d]=k.sort(function(a,b){return a.distance-b.distance}),AutoFarm.targetList[d].index=0,AutoFarm.selectedTarget=AutoFarm.targetList[d][0],void a()):(AutoFarm.nextVillage()?AutoFarm.updateTargets(a):AutoFarm.callbacks.noTargets(),!1)},!0)},AutoFarm.nextVillage=function(){if(__debug&amp;&amp;console.warn("method : nextVillage"),AutoFarm.is.uniqueVillage)return!1;var a=AutoFarm.player.villages.indexOf(AutoFarm.selectedVillage)+1;return"undefined"!=typeof AutoFarm.player.villages[a]?AutoFarm.selectedVillage=AutoFarm.player.villages[a]:AutoFarm.selectedVillage=AutoFarm.player.villages[0],-1!==AutoFarm.settings.ignoreVillages.indexOf(AutoFarm.selectedVillage.getX()+"|"+AutoFarm.selectedVillage.getY())?AutoFarm.nextVillage():(AutoFarm.callbacks.nextVillage(),!0)},AutoFarm.nextTarget=function(){__debug&amp;&amp;console.warn("method : nextTarget");var a=AutoFarm.selectedVillage.getId();if(!(a in AutoFarm.targetList))return AutoFarm.updateTargets(AutoFarm.nextTarget);var b=++AutoFarm.targetList[a].index;return"undefined"!=typeof AutoFarm.targetList[a][b]?AutoFarm.selectedTarget=AutoFarm.targetList[a][b]:(AutoFarm.selectedTarget=AutoFarm.targetList[a][0],AutoFarm.targetList[a].index=0),-1!==AutoFarm.settings.ignoreFarms.indexOf(AutoFarm.selectedTarget.xy)?AutoFarm.nextTarget():void AutoFarm.callbacks.nextTarget()},AutoFarm.getVillageCommands=function(a){__debug&amp;&amp;console.warn("method : getVillageCommands"),$village.commands(AutoFarm.selectedVillage.getId(),function(b){a(b)})},AutoFarm.getVillageUnits=function(a){__debug&amp;&amp;console.warn("method : getVillageUnits"),$village.units(AutoFarm.selectedVillage.getId(),function(b){a(b.available_units)})},AutoFarm.selectModel=function(a){__debug&amp;&amp;console.warn("method : selectModel");var b,c,d;for(d=0;d0)return!1;return!0},AutoFarm.getNeabyCommand=function(a){__debug&amp;&amp;console.warn("method : getNeabyCommand");for(var b,c,d,e=(new Date).getTime()/1e3,f=[],g=0;g=50?(AutoFarm.addVillageCommandsBack(a),AutoFarm.command.commandLimit(a)):void AutoFarm.getVillageUnits(function(b){var c=AutoFarm.selectModel(b);c?AutoFarm.simulate.mapFactor(function(){AutoFarm.command.send(c,function(){AutoFarm.callbacks.sendCommand(AutoFarm.selectedVillage,AutoFarm.selectedTarget),AutoFarm.nextTarget(),AutoFarm.timerId=setTimeout(function(){AutoFarm.command.begin()},1e3*AutoFarm.settings.interval)})}):(AutoFarm.addVillageCommandsBack(a),AutoFarm.callbacks.villageNoUnits(AutoFarm.selectedVillage,AutoFarm.is.uniqueVillage),AutoFarm.command.villageNoUnits(a))})})},AutoFarm.command.commandLimit=function(a){if(__debug&amp;&amp;console.warn("method : command.commandLimit"),AutoFarm.callbacks.commandLimit(AutoFarm.selectedVillage),AutoFarm.is.uniqueVillage){var b=AutoFarm.getNeabyCommand(a);AutoFarm.timerId=setTimeout(function(){AutoFarm.command.begin()},b)}else AutoFarm.nextVillage(),AutoFarm.updateTargets(function(){AutoFarm.command.begin()})},AutoFarm.command.villageNoUnits=function(a){if(__debug&amp;&amp;console.warn("method : command.villageNoUnits"),AutoFarm.is.uniqueVillage){if(!a.length)return AutoFarm.callbacks.noUnitsNoCommands(AutoFarm.selectedVillage),!1;var b=AutoFarm.getNeabyCommand(a);b?AutoFarm.timerId=setTimeout(function(){AutoFarm.command.begin()},b):AutoFarm.callbacks.noUnitsNoCommands(AutoFarm.selectedVillage)}else AutoFarm.nextVillage(),AutoFarm.updateTargets(function(){AutoFarm.command.begin()})},AutoFarm.command.send=function(a,b){__debug&amp;&amp;console.warn("method : command.send"),$village.command(AutoFarm.selectedVillage.getId(),AutoFarm.selectedTarget.id,{units:a},b)},AutoFarm.simulate.mapFactor=function(a){__debug&amp;&amp;console.warn("method : simulate.mapFactor"),$server.send("Map/getVillageDetails",{my_village_id:AutoFarm.selectedVillage.getId(),num_reports:0,village_id:AutoFarm.selectedTarget.id},"Map/villageDetails",function(){$server.send("Command/getAttackingFactor",{target_id:AutoFarm.selectedTarget.id},"Command/attackingFactor",a)})};var $interfaceInput=require("framework/ui/interface/input");$interfaceInput.addFormat("unit-models",function(a,b,c){var d,e,f=["spear","sword","axe","archer","light_cavalry","mounted_archer","heavy_cavalry","doppelsoldner","knight"],g="";return $util.each(c,function(a,b){d="",$util.each(a,function(a,c){d+=$templates.proccess("autofarm/format/unitModels/unit",{unit:a,index:b,amount:c})}),g+=$templates.proccess("autofarm/format/unitModels/unitTr",{units:d})}),e=$util.dom($templates.proccess("autofarm/format/unitModels",{name:a.i18n[b],html:g})),e.find(".unit-model").bind("click",function(){var a=this.className.match(/unit-(\w+)/)[1],b=f.indexOf(a)+1,c=f[b]||f[0];this.nextSibling.setAttribute("settingInterfaceItem",c),this.className="icon-34x34-unit-"+c}),e});var AutoFarmLog=$modal({id:"autofarm-log",title:AutoFarm.i18n.logUI.title,content:$templates["autofarm/log"]});AutoFarmLog.add=function(a){var b=$util.dom(""+(new Date).toLocaleString()+""+a+"");AutoFarmLog.find("tbody").prepend(b),AutoFarmLog.applyScroll()},AutoFarm.setSettings(JSON.parse(localStorage[$util.prefix("autofarm")]||"{}")),AutoFarm.ui=$interface({id:"AutoFarm",iconColor:"green",title:AutoFarm.i18n.title,header:AutoFarm.i18n.header,pluginSettings:AutoFarm.getSettings(),i18n:AutoFarm.i18n.settingsLabel,formats:{radius:"text",interval:"text",ignoreVillages:["text","placeholder=xxx|yyy xxx|yyy"],ignoreFarms:["text","placeholder=xxx|yyy xxx|yyy"],abandonedOnly:"select",models:"unit-models"},buttons:[{title:AutoFarm.i18n.buttons.save,color:"green",click:function(){AutoFarmLog.add(AutoFarm.i18n.notif.save),AutoFarm.setSettings($extractor("autofarm")),localStorage[$util.prefix("autofarm")]=JSON.stringify(AutoFarm.getSettings()),$util.notif(AutoFarm.i18n.notif.save,"settings",2e3)}},{title:AutoFarm.i18n.buttons.start,click:function(){AutoFarm.is.paused?(AutoFarm.start(),this.innerHTML=AutoFarm.i18n.buttons.pause,$util.notif(AutoFarm.i18n.notif.start,"check",2e3)):(AutoFarm.pause(),this.innerHTML=AutoFarm.i18n.buttons.start,$util.notif(AutoFarm.i18n.notif.paused,"attention",2e3))}},{title:AutoFarm.i18n.buttons.log,click:function(){AutoFarmLog.show(),AutoFarmLog.applyScroll(),AutoFarm.ui.hide()}}]}),AutoFarm.prepareSystem(),AutoFarm.callbacks.sendCommand=function(a,b){AutoFarmLog.add(makeVillageLink(a)+" ataca "+makeVillageLink(b))},AutoFarm.callbacks.commandLimit=function(a){AutoFarmLog.add(makeVillageLink(a)+AutoFarm.i18n.logs.limitAttackWait)},AutoFarm.callbacks.villageNoUnits=function(a,b){AutoFarmLog.add(b?makeVillageLink(a)+AutoFarm.i18n.logs.noUnitsWait:makeVillageLink(a)+AutoFarm.i18n.logs.noUnits)},AutoFarm.callbacks.noUnitsNoCommands=function(a){AutoFarmLog.add(AutoFarm.i18n.logs.noUnitsStop)};

<p>});</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jcauto/test">Test</a> is maintained by <a href="https://github.com/jcauto">jcauto</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

